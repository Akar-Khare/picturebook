"use strict";(self.webpackChunkpicture_book=self.webpackChunkpicture_book||[]).push([[101],{101:function(e,t,n){n.r(t);var s=n(165),r=n(861),c=n(885),a=n(791),i=n(565),o=n(507),u=n(184);t.default=function(e){var t=e.isAuthenticated,n=(0,a.useState)([]),d=(0,c.Z)(n,2),l=d[0],h=d[1],f=(0,a.useContext)(i.S),p=(0,a.useState)(!1),x=(0,c.Z)(p,2),k=x[0],j=x[1],m=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){var t,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/cards",{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,h(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(e,t){fetch("/liked",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cardId:e,liked:t})}).then((function(e){console.log("Like status "+e.status),201===e.status&&j(!k)}))};return(0,a.useEffect)((function(){m()}),[k]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{style:{textAlign:"center",marginTop:"20px"},children:[f&&(0,u.jsxs)("h5",{children:[" ","Welcome ".concat(f.name)]}),(0,u.jsx)("h6",{style:{color:"grey"},children:"Stories"})]}),l[0]&&(0,u.jsx)("div",{className:"card-container",children:l.map((function(e){return(0,u.jsx)(o.Z,{data:e,user:f,likePost:y,isAuthenticated:t})}))})]})}}}]);
//# sourceMappingURL=101.c42eab83.chunk.js.map
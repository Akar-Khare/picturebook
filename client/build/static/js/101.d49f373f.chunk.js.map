{"version":3,"file":"static/js/101.d49f373f.chunk.js","mappings":"0LAqEA,UAjEc,SAAC,GAAuB,IAAtBA,EAAqB,EAArBA,gBAEdC,QAAQC,IAAI,YAGZ,OAA+BC,EAAAA,EAAAA,UAAS,IAAxC,eAAOC,EAAP,KAAgBC,EAAhB,KACMC,GAAOC,EAAAA,EAAAA,YAAWC,EAAAA,GACxB,GAAuBL,EAAAA,EAAAA,WAAS,GAAhC,eAAOM,EAAP,KAAYC,EAAZ,KAEMC,EAAW,yCAAG,2GACAC,MAAM,yCAAyC,CAE/DC,OAAQ,MACRC,QAAQ,CACN,eAAgB,sBALF,cACZC,EADY,gBAUCA,EAAIC,OAVL,OAUZC,EAVY,OAclBZ,EAAYY,GAdM,2CAAH,qDAmBXC,EAAW,SAACC,EAAGC,GAEnBR,MAAM,SAAS,CAEbC,OAAQ,OACRC,QAAQ,CACN,eAAgB,oBAElBO,KAAMC,KAAKC,UAAU,CAACC,OAAOL,EAAGC,MAAMA,MACrCK,MAAK,SAACV,GAEPd,QAAQC,IAAI,eAAea,EAAIW,QACf,MAAbX,EAAIW,QACNhB,GAASD,EAEX,GACF,EAID,OAFFkB,EAAAA,EAAAA,YAAU,WAAKhB,GAAc,GAAC,CAACF,KAG5B,iCAEE,iBAAKmB,MAAO,CAACC,UAAW,SAASC,UAAU,QAA3C,UAAqDxB,IAAO,gDAAkBA,EAAKyB,UAAa,eAAKH,MAAO,CAACI,MAAM,QAAnB,wBAC/F5B,EAAS,KAAQ,gBAAK6B,UAAU,iBAAf,SACpB7B,EAAS8B,KAAI,SAACC,GAAD,OAAQ,SAAC,IAAD,CAAWlB,KAAMkB,EAAM7B,KAAMA,EAAMY,SAAUA,EAAUlB,gBAAiBA,GAAhF,QAUf,C","sources":["Components/feeds.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport { UserContext } from '../App';\r\nimport MainItems from './mainItems';\r\n\r\nconst Feeds = ({isAuthenticated}) => {\r\n\r\n  console.log(\"In feeds\")\r\n  \r\n\r\n  const [allPosts,setAllPosts] = useState([]);\r\n  const user = useContext(UserContext);\r\n  const [Like,setLike] = useState(false);\r\n  \r\n  const getAllPosts = async() =>{\r\n    const res = await fetch(\"https://pbookserver.onrender.com/cards\",{\r\n  \r\n      method :'GET',\r\n      headers:{\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    });\r\n  \r\n    \r\n    const data = await res.json();\r\n  \r\n  \r\n  \r\n    setAllPosts(data);\r\n\r\n    \r\n  }\r\n\r\n  const likePost = (id,liked)=>{\r\n    \r\n    fetch(\"/liked\",{\r\n      \r\n      method :'POST',\r\n      headers:{\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({cardId:id,liked:liked})\r\n    }).then((res)=>{\r\n      \r\n      console.log(\"Like status \"+res.status)\r\n      if(res.status===201)\r\n       setLike(!Like);\r\n   \r\n    });\r\n  }\r\n\r\nuseEffect(()=>{getAllPosts()},[Like])\r\n    \r\n  return (\r\n   <>\r\n    \r\n     <div style={{textAlign: \"center\",marginTop:\"20px\"}}>{user &&<h5 > {`Welcome ${user.name}`}</h5>}<h6  style={{color:\"grey\"}}>Stories</h6></div>\r\n     {allPosts[0] &&   <div className='card-container' > \r\n  {allPosts.map((post)=><MainItems data={post} user={user} likePost={likePost} isAuthenticated={isAuthenticated}/>) }\r\n \r\n\r\n   </div>}\r\n   \r\n   {/* : <h5>{`No posts :(`}</h5>} */}\r\n\r\n\r\n   </>\r\n  )\r\n}\r\n\r\nexport default Feeds;"],"names":["isAuthenticated","console","log","useState","allPosts","setAllPosts","user","useContext","UserContext","Like","setLike","getAllPosts","fetch","method","headers","res","json","data","likePost","id","liked","body","JSON","stringify","cardId","then","status","useEffect","style","textAlign","marginTop","name","color","className","map","post"],"sourceRoot":""}